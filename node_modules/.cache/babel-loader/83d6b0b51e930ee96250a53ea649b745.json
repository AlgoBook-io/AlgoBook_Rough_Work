{"ast":null,"code":"var _jsxFileName = \"H:\\\\React\\\\AlgoBook\\\\src\\\\components\\\\SortComponent.js\";\nimport React, { Component } from 'react';\nimport './sort.css';\nimport './myStyle.css'; //import {mergeSortAnimations} from './MergeSort'\n\nvar bubblectr = 0;\nvar sorted = false;\nvar width = 50;\nvar reset = true;\nvar color1 = 'rgb(0, 204, 0)';\nvar timeouts = [];\nvar skip = false; //var ctr1=0;\n\nclass BubbleSort extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ar: [],\n      n: 20,\n      delay: 250\n    };\n    this.resetArray = this.resetArray.bind(this);\n  }\n\n  componentDidMount() {\n    this.changeArrSize();\n    reset = true;\n    sorted = false;\n    document.getElementById('skip').disabled = true;\n  }\n\n  componentDidUpdate() {\n    if (skip === true) {\n      for (let i = 0; i < this.state.n; i++) {\n        const arr_bar = document.getElementsByClassName('array-bar');\n        arr_bar[i].style.backgroundColor = 'blue';\n      }\n    } //        else console.log(\"ASDDF\");\n\n  }\n\n  resetCSS() {\n    let arr = this.state.ar;\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    this.setState({\n      ar: arr\n    });\n\n    for (let i = 0; i < this.state.n; i++) {\n      const arr_bar = document.getElementsByClassName('array-bar');\n      arr_bar[i].style.backgroundColor = 'blue';\n    }\n  }\n\n  resetArray() {\n    reset = true;\n    sorted = false;\n    let array = [];\n\n    for (let i = 0; i < this.state.n; i++) {\n      array.push(randomIntFromInterval(5, 480));\n    }\n\n    array[randomIntFromInterval(0, this.state.n - 1)] = 480;\n    this.setState({\n      ar: array\n    });\n    if (bubblectr === 1) for (let i = 0; i < this.state.n; i++) {\n      const arr_bar = document.getElementsByClassName('array-bar');\n      arr_bar[i].style.transform = 'translateX(0px)';\n      arr_bar[i].style.backgroundColor = 'blue';\n    }\n    bubblectr = 1;\n  }\n\n  buttons(x, dly) {\n    document.getElementById('reset').disabled = x;\n    document.getElementById('selectionsort').disabled = x;\n    document.getElementById('bubblesort').disabled = x;\n    document.getElementById('insertionsort').disabled = x;\n    document.getElementById('mergesort').disabled = x;\n    document.getElementById('quicksort').disabled = x;\n    document.getElementById('arr_size').disabled = x;\n    document.getElementById('delay').disabled = x;\n    document.getElementById('skip').disabled = !x;\n    const arr_bar = document.getElementsByClassName('array-bar');\n\n    if (x === true) {\n      for (let i = 0; i < this.state.n; i++) {\n        arr_bar[i].style.transform = 'translateX(0px)';\n        arr_bar[i].style.backgroundColor = 'blue';\n      }\n    } else {\n      setTimeout(() => {\n        for (let i = 0; i < this.state.n; i++) {\n          arr_bar[i].style.backgroundColor = 'blue';\n        }\n      }, 1000);\n    }\n\n    sorted = !x;\n  }\n\n  changeArrSize() {\n    var x = document.getElementById('arr_size');\n    bubblectr = 0;\n    let wdth = .8 * window.innerWidth;\n    let n1 = Math.floor(x.value * 3.6); //doubt about width formula\n\n    width = Math.floor(wdth / n1) - 2;\n    this.setState({\n      n: n1\n    }, function () {\n      this.resetArray();\n      const arr_bar = document.getElementsByClassName('array-bar');\n      if (typeof arr_bar === 'undefined') for (let i = 0; i < this.state.n; i++) {\n        arr_bar[i].style.backgroundColor = 'blue';\n      }\n    });\n  }\n\n  changeDelay() {\n    let x = document.getElementById('delay');\n    let val;\n    if (x.value >= 1450) val = .05;else if (x.value >= 1350) val = .1;else if (x.value >= 1250) val = .25;else if (x.value >= 1150) val = .5;else if (x.value > 1000) val = .75;else val = 1001 - x.value;\n    this.setState({\n      delay: val\n    }, function () {\n      if (sorted === true) {\n        let arr = this.state.ar;\n        arr.sort(function (a, b) {\n          return a - b;\n        });\n        this.setState({\n          ar: arr\n        });\n      }\n\n      for (let i = 0; i < this.state.n; i++) {\n        const arr_bar = document.getElementsByClassName('array-bar');\n        arr_bar[i].style.backgroundColor = 'blue';\n      }\n    });\n  }\n\n  skipAnimations() {\n    skip = true;\n\n    for (let i = 0; i < timeouts.length; i++) window.clearTimeout(timeouts[i]);\n\n    const arr_bar = document.getElementsByClassName('array-bar');\n\n    for (let i = 0; i < this.state.n; i++) {\n      arr_bar[i].style.transform = 'translateX(0px)';\n    }\n\n    let arr = this.state.ar;\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    this.setState({\n      ar: arr\n    });\n\n    for (let i = 0; i < this.state.n; i++) {\n      arr_bar[i].style.backgroundColor = color1;\n    }\n\n    this.buttons(false, 800);\n    timeouts = [];\n    skip = false;\n  } //Bubble Sort\n\n\n  BubbleSortAnimations() {\n    let animations = [];\n    let ar = this.state.ar;\n\n    for (let i = 0; i < this.state.n - 1; i++) {\n      for (let j = 0; j < this.state.n - 1 - i; j++) {\n        if (ar[j] > ar[j + 1]) {\n          animations.push({\n            i: j,\n            j: j + 1,\n            color: 'red',\n            swap: false\n          });\n          let t = ar[j];\n          ar[j] = ar[j + 1];\n          ar[j + 1] = t;\n          animations.push({\n            i: j,\n            j: j + 1,\n            color: 'green',\n            swap: true\n          });\n          animations.push({\n            i: j,\n            j: j + 1,\n            color: 'green',\n            swap: false\n          });\n        } else {\n          animations.push({\n            i: j,\n            j: j + 1,\n            color: 'green',\n            swap: false\n          });\n        }\n      }\n\n      animations.push({\n        i: this.state.n - 1 - i,\n        j: -1,\n        color: 'orange',\n        swap: false\n      });\n    }\n\n    animations.push({\n      i: 0,\n      j: -1,\n      color: 'orange',\n      swap: false\n    });\n    return animations;\n  }\n\n  bubbleSort() {\n    timeouts = [];\n    if (reset === false) this.resetCSS();\n    this.buttons(true, 0);\n    const animations = this.BubbleSortAnimations();\n    let ptr = [];\n\n    for (let i = 0; i < this.state.ar.length; i++) ptr[i] = {\n      i: i,\n      ctr: 0\n    };\n\n    let len = animations.length;\n    const arr_bar = document.getElementsByClassName('array-bar');\n\n    for (let i = 0; i < len; i++) {\n      let idx1 = animations[i].i;\n      let idx2 = animations[i].j;\n\n      if (idx2 === -1) {\n        let qq = setTimeout(() => {\n          arr_bar[ptr[idx1].i].style.backgroundColor = color1;\n          if (idx1 > 0 && arr_bar[ptr[idx1 - 1].i].style.backgroundColor === 'palegreen') arr_bar[ptr[idx1 - 1].i].style.backgroundColor = 'blue';\n        }, i * this.state.delay);\n        timeouts.push(qq);\n        continue;\n      }\n\n      if (animations[i].swap === true) {\n        let qq = setTimeout(() => {\n          ptr[idx1].ctr += 1;\n          let y = ptr[idx1].ctr * (width + 2);\n          arr_bar[ptr[idx1].i].style.transform = `translateX(${y}px)`;\n          ptr[idx2].ctr -= 1;\n          y = ptr[idx2].ctr * (width + 2);\n          arr_bar[ptr[idx2].i].style.transform = `translateX(${y}px)`;\n          let tm = ptr[idx1];\n          ptr[idx1] = ptr[idx2];\n          ptr[idx2] = tm;\n          arr_bar[ptr[idx1].i].style.backgroundColor = 'palegreen';\n          arr_bar[ptr[idx2].i].style.backgroundColor = 'palegreen';\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      } else {\n        if (animations[i].color === 'green') {\n          let qq = setTimeout(() => {\n            if (idx1 > 0 && arr_bar[ptr[idx1 - 1].i].style.backgroundColor === 'palegreen') arr_bar[ptr[idx1 - 1].i].style.backgroundColor = 'blue';\n            arr_bar[ptr[idx1].i].style.backgroundColor = 'palegreen';\n            arr_bar[ptr[idx2].i].style.backgroundColor = 'palegreen';\n          }, i * this.state.delay);\n          timeouts.push(qq);\n        } else {\n          let qq = setTimeout(() => {\n            if (idx1 > 0 && arr_bar[ptr[idx1 - 1].i].style.backgroundColor === 'palegreen') arr_bar[ptr[idx1 - 1].i].style.backgroundColor = 'blue';\n            arr_bar[ptr[idx1].i].style.backgroundColor = 'red';\n            arr_bar[ptr[idx2].i].style.backgroundColor = 'red';\n          }, i * this.state.delay);\n          timeouts.push(qq);\n        }\n      }\n    }\n\n    let qq = setTimeout(() => {\n      this.buttons(false, animations.length * this.state.delay);\n      reset = false;\n    }, animations.length * this.state.delay);\n    timeouts.push(qq);\n  } //Selection Sort\n\n\n  selectionSortAnimations() {\n    let animations = [];\n    let ar = this.state.ar;\n\n    for (let i = 0; i < this.state.n; i++) {\n      let min = 1000000001,\n          minpos;\n\n      for (let j = i + 1; j < this.state.n; j++) {\n        if (min > ar[j]) {\n          min = ar[j];\n          minpos = j;\n          animations.push({\n            i: i,\n            j: j,\n            color: 'orange'\n          });\n        } else {\n          animations.push({\n            i: i,\n            j: j,\n            color: 'palegreen'\n          });\n        }\n      }\n\n      animations.push({\n        i: -1,\n        j: 0,\n        color: 'dummy'\n      });\n\n      if (ar[i] > ar[minpos]) {\n        let temp = ar[i];\n        ar[i] = ar[minpos];\n        ar[minpos] = temp;\n        animations.push({\n          i: i,\n          j: minpos,\n          color: 'swap'\n        });\n      }\n\n      animations.push({\n        i: i,\n        j: -1,\n        color: 'green'\n      });\n    }\n\n    return animations;\n  }\n\n  selectionSort() {\n    timeouts = [];\n    if (reset === false) this.resetCSS();\n    this.buttons(true, 0);\n    const animations = this.selectionSortAnimations();\n    let ptr = [];\n    let previdx = -1;\n\n    for (let i = 0; i < this.state.ar.length; i++) ptr[i] = {\n      i: i,\n      ctr: 0\n    };\n\n    let len = animations.length;\n    const arr_bar = document.getElementsByClassName('array-bar');\n\n    for (let i = 0; i < len; i++) {\n      let idx1 = animations[i].i;\n      let idx2 = animations[i].j;\n\n      if (idx1 === -1) {\n        let qq = setTimeout(() => {\n          if (arr_bar[ptr[this.state.n - 1].i].style.backgroundColor === 'palegreen') arr_bar[ptr[this.state.n - 1].i].style.backgroundColor = 'blue';\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      } else if (idx2 === -1) {\n        let qq = setTimeout(() => {\n          arr_bar[ptr[idx1].i].style.backgroundColor = color1;\n        }, i * this.state.delay);\n        previdx = -1;\n        timeouts.push(qq);\n      } else {\n        if (animations[i].color === 'swap') {\n          let qq = setTimeout(() => {\n            ptr[idx1].ctr += idx2 - idx1;\n            let y = ptr[idx1].ctr * (width + 2);\n            arr_bar[ptr[idx1].i].style.transform = `translateX(${y}px)`;\n            ptr[idx2].ctr -= idx2 - idx1;\n            y = ptr[idx2].ctr * (width + 2);\n            arr_bar[ptr[idx2].i].style.transform = `translateX(${y}px)`;\n            let tm = ptr[idx1];\n            ptr[idx1] = ptr[idx2];\n            ptr[idx2] = tm;\n            arr_bar[ptr[idx1].i].style.backgroundColor = 'palegreen';\n            arr_bar[ptr[idx2].i].style.backgroundColor = 'blue';\n          }, i * this.state.delay);\n          timeouts.push(qq);\n        } else {\n          if (animations[i].color === 'palegreen') {\n            let qq = setTimeout(() => {\n              arr_bar[ptr[idx1].i].style.backgroundColor = 'palegreen';\n              arr_bar[ptr[idx2].i].style.backgroundColor = 'palegreen';\n              if (arr_bar[ptr[idx2 - 1].i].style.backgroundColor === 'palegreen') arr_bar[ptr[idx2 - 1].i].style.backgroundColor = 'blue';\n            }, i * this.state.delay);\n            timeouts.push(qq);\n          } else {\n            let qq = setTimeout(() => {\n              arr_bar[ptr[idx1].i].style.backgroundColor = 'palegreen';\n              if (previdx >= 0 && arr_bar[previdx].style.backgroundColor === 'orange') arr_bar[previdx].style.backgroundColor = 'blue';\n              previdx = ptr[idx2].i;\n              arr_bar[ptr[idx2].i].style.backgroundColor = 'orange';\n              if (ptr[idx2 - 1].i !== ptr[idx1].i && (arr_bar[ptr[idx2 - 1].i].style.backgroundColor === 'palegreen' || arr_bar[ptr[idx2 - 1].i].style.backgroundColor === 'orange')) arr_bar[ptr[idx2 - 1].i].style.backgroundColor = 'blue';\n            }, i * this.state.delay);\n            timeouts.push(qq);\n          }\n        }\n      }\n    }\n\n    let qq = setTimeout(() => {\n      this.buttons(false, animations.length * this.state.delay);\n      reset = false;\n    }, animations.length * this.state.delay);\n    timeouts.push(qq);\n  } //Insertion Sort\n\n\n  insertionSortAnimations() {\n    let animations = [];\n    let ar = this.state.ar;\n\n    for (let i = 0; i < this.state.n; i++) {\n      let j = i;\n      animations.push({\n        i: i,\n        j: -2,\n        color: 'red'\n      });\n\n      while (j > 0 && ar[j] < ar[j - 1]) {\n        animations.push({\n          i: j,\n          j: j - 1,\n          color: 'swap'\n        });\n        animations.push({\n          i: -1,\n          j: -1,\n          color: 'delay'\n        });\n        let temp = ar[j];\n        ar[j] = ar[j - 1];\n        ar[j - 1] = temp;\n        j--;\n      }\n\n      animations.push({\n        i: j,\n        j: -1,\n        color: 'green'\n      });\n    }\n\n    return animations;\n  }\n\n  insertionSort() {\n    timeouts = [];\n    if (reset === false) this.resetCSS();\n    this.buttons(true, 0);\n    const animations = this.insertionSortAnimations();\n    let ptr = [];\n\n    for (let i = 0; i < this.state.ar.length; i++) ptr[i] = {\n      i: i,\n      ctr: 0\n    };\n\n    let len = animations.length;\n    const arr_bar = document.getElementsByClassName('array-bar');\n\n    for (let i = 0; i < len; i++) {\n      let idx1 = animations[i].i;\n      let idx2 = animations[i].j;\n\n      if (idx1 === -1) {\n        let qq = setTimeout(() => {}, i * this.state.delay);\n        timeouts.push(qq);\n      } else if (idx2 === -1) {\n        let qq = setTimeout(() => {\n          arr_bar[ptr[idx1].i].style.backgroundColor = color1;\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      } else if (animations[i].color === 'red') {\n        let qq = setTimeout(() => {\n          arr_bar[ptr[idx1].i].style.backgroundColor = 'red';\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      } else {\n        let qq = setTimeout(() => {\n          ptr[idx1].ctr += idx2 - idx1;\n          let y = ptr[idx1].ctr * (width + 2);\n          arr_bar[ptr[idx1].i].style.transform = `translateX(${y}px)`;\n          ptr[idx2].ctr -= idx2 - idx1;\n          y = ptr[idx2].ctr * (width + 2);\n          arr_bar[ptr[idx2].i].style.transform = `translateX(${y}px)`;\n          let tm = ptr[idx1];\n          ptr[idx1] = ptr[idx2];\n          ptr[idx2] = tm;\n          arr_bar[ptr[idx2].i].style.backgroundColor = 'red';\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      }\n    }\n\n    let qq = setTimeout(() => {\n      this.buttons(false, animations.length * this.state.delay);\n      reset = false;\n    }, animations.length * this.state.delay);\n    timeouts.push(qq);\n  } //Merge Sort\n\n\n  mergeSortAnimations(ar) {\n    const animation = [];\n    if (ar.length === 1) return animation;\n    this.mergeSort1(ar, 0, ar.length - 1, animation);\n    return animation;\n  }\n\n  mergeSort1(ar, l, r, animation) {\n    if (l < r) {\n      let mid = Math.floor((l + r) / 2);\n      this.mergeSort1(ar, l, mid, animation);\n      this.mergeSort1(ar, mid + 1, r, animation);\n      this.merge(ar, l, r, mid, animation);\n    }\n  }\n\n  merge(ar, l, r, mid, animation) {\n    let i = l,\n        j = mid + 1,\n        k = l;\n    let i1 = l,\n        j1 = mid + 1;\n\n    while (i1 <= mid && j1 <= r) {\n      animation.push({\n        i: i,\n        j: j,\n        color: 'palegreen'\n      });\n\n      if (ar[i] <= ar[j]) {\n        animation.push({\n          i: i,\n          j: j,\n          color: 'blue'\n        });\n        i++;\n        k++;\n        i1++;\n      } else {\n        animation.push({\n          i: k,\n          j: j,\n          color: 'swap'\n        });\n        animation.push({\n          i: k,\n          j: j,\n          color: 'blue'\n        });\n        let tmp = ar[j];\n\n        for (let z = j; z > i; z--) ar[z] = ar[z - 1];\n\n        ar[i] = tmp;\n        i++;\n        j++;\n        j1++;\n        k++;\n      }\n    }\n\n    while (i <= mid) {\n      animation.push({\n        i: i,\n        j: -1,\n        color: 'palegreen'\n      });\n      animation.push({\n        i: i,\n        j: -1,\n        color: 'blue'\n      });\n      i++;\n    }\n\n    while (j <= r) {\n      animation.push({\n        i: j,\n        j: -1,\n        color: 'palegreen'\n      });\n      animation.push({\n        i: j,\n        j: -1,\n        color: 'blue'\n      });\n      j++;\n    }\n  }\n\n  mergeSort() {\n    timeouts = [];\n    if (reset === false) this.resetCSS();\n    this.buttons(true, 0);\n    let animations = this.mergeSortAnimations(this.state.ar);\n    let ptr = [];\n    let previdx = -1;\n\n    for (let i = 0; i < this.state.ar.length; i++) ptr[i] = {\n      i: i,\n      ctr: 0\n    };\n\n    let len = animations.length;\n    let arr_bar = document.getElementsByClassName('array-bar');\n\n    for (let i = 0; i < len; i++) {\n      let idx1 = animations[i].i;\n      let idx2 = animations[i].j;\n\n      if (idx2 === -1) {\n        let qq = setTimeout(() => {\n          arr_bar[ptr[idx1].i].style.backgroundColor = animations[i].color;\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      } else if (animations[i].color === 'swap') {\n        let qq = setTimeout(() => {\n          for (let pq = idx1; pq < idx2; pq++) {\n            ptr[pq].ctr += 1;\n            let y = ptr[pq].ctr * (width + 2);\n            arr_bar[ptr[pq].i].style.transform = `translateX(${y}px)`;\n          }\n\n          ptr[idx2].ctr -= idx2 - idx1;\n          let y = ptr[idx2].ctr * (width + 2);\n          arr_bar[ptr[idx2].i].style.transform = `translateX(${y}px)`;\n          let pqq = ptr[idx2];\n\n          for (let pq = idx2 - 1; pq >= idx1; pq--) ptr[pq + 1] = ptr[pq];\n\n          ptr[idx1] = pqq;\n\n          for (let it = 0; it < this.state.n; it++) if (arr_bar[it].style.backgroundColor === 'palegreen') arr_bar[it].style.backgroundColor = 'blue';\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      } else {\n        let qq = setTimeout(() => {\n          arr_bar[ptr[idx1].i].style.backgroundColor = animations[i].color;\n          arr_bar[ptr[idx2].i].style.backgroundColor = animations[i].color;\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      }\n    }\n\n    let qq = setTimeout(() => {\n      for (let it = 0; it < this.state.n; it++) arr_bar[it].style.backgroundColor = color1;\n    }, animations.length * this.state.delay);\n    timeouts.push(qq);\n    qq = setTimeout(() => {\n      this.buttons(false, animations.length * this.state.delay);\n      reset = false;\n    }, (animations.length + 1) * this.state.delay);\n    timeouts.push(qq);\n  } //quick sort\n\n\n  quickSortAnimations(ar) {\n    const animation = [];\n    this.quickSort1(ar, 0, ar.length - 1, animation);\n    return animation;\n  }\n\n  quickSort1(ar, low, high, animation) {\n    console.log(low + \" \" + high);\n    if (low === high) animation.push({\n      i: low,\n      j: -1,\n      color: color1\n    });else if (low < high) {\n      let par = this.partition(ar, low, high, animation);\n      animation.push({\n        i: -1,\n        j: -1,\n        color: 'clean'\n      });\n      this.quickSort1(ar, low, par - 1, animation);\n      this.quickSort1(ar, par + 1, high, animation);\n    }\n  }\n\n  partition(ar, low, high, animation) {\n    let pivot = ar[high];\n    let i = low - 1;\n    animation.push({\n      i: high,\n      j: -1,\n      color: 'yellow'\n    });\n\n    for (let j = low; j < high; j++) {\n      animation.push({\n        i: j,\n        j: -1,\n        color: 'palegreen'\n      });\n\n      if (ar[j] <= pivot) {\n        i++;\n        animation.push({\n          i: i,\n          j: j,\n          color: 'swap'\n        });\n        let tmp = ar[i];\n        ar[i] = ar[j];\n        ar[j] = tmp;\n        animation.push({\n          i: i,\n          j: j,\n          color: 'op' //op=orangepurple\n\n        });\n      } else {\n        animation.push({\n          i: j,\n          j: -1,\n          color: 'orange'\n        });\n      }\n    }\n\n    animation.push({\n      i: i + 1,\n      j: high,\n      color: 'swap'\n    });\n    let tmp = ar[i + 1];\n    ar[i + 1] = ar[high];\n    ar[high] = tmp;\n    animation.push({\n      i: i + 1,\n      j: -1,\n      color: color1\n    });\n    return i + 1;\n  }\n\n  quickSort() {\n    timeouts = [];\n    if (reset === false) this.resetCSS();\n    this.buttons(true, 0);\n    let animations = this.quickSortAnimations(this.state.ar); //        return;\n\n    let ptr = [];\n\n    for (let i = 0; i < this.state.ar.length; i++) ptr[i] = {\n      i: i,\n      ctr: 0\n    };\n\n    let len = animations.length;\n    const arr_bar = document.getElementsByClassName('array-bar');\n\n    for (let i = 0; i < len; i++) {\n      let idx1 = animations[i].i;\n      let idx2 = animations[i].j;\n\n      if (animations[i].color === 'clean') {\n        let qq = setTimeout(() => {\n          for (let it = 0; it < this.state.n; it++) {\n            if (arr_bar[ptr[it].i].style.backgroundColor !== color1) {\n              arr_bar[ptr[it].i].style.backgroundColor = 'blue';\n            }\n          }\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      } else if (idx2 === -1) {\n        let qq = setTimeout(() => {\n          arr_bar[ptr[idx1].i].style.backgroundColor = animations[i].color;\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      } else if (animations[i].color === 'swap') {\n        let qq = setTimeout(() => {\n          ptr[idx1].ctr += idx2 - idx1;\n          let y = ptr[idx1].ctr * (width + 2);\n          arr_bar[ptr[idx1].i].style.transform = `translateX(${y}px)`;\n          ptr[idx2].ctr -= idx2 - idx1;\n          y = ptr[idx2].ctr * (width + 2);\n          arr_bar[ptr[idx2].i].style.transform = `translateX(${y}px)`;\n          let tm = ptr[idx1];\n          ptr[idx1] = ptr[idx2];\n          ptr[idx2] = tm;\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      } else if (animations[i].color === color1) {\n        let qq = setTimeout(() => {\n          arr_bar[ptr[idx1].i].style.backgroundColor = color1;\n\n          for (let it = 0; it < this.state.n; it++) {\n            if (arr_bar[ptr[it].i].style.backgroundColor !== color1) arr_bar[ptr[it].i].style.backgroundColor = 'blue';\n          }\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      } else {\n        let qq = setTimeout(() => {\n          arr_bar[ptr[idx1].i].style.backgroundColor = 'orange';\n          arr_bar[ptr[idx1].i].style.backgroundColor = 'purple';\n        }, i * this.state.delay);\n        timeouts.push(qq);\n      }\n    }\n\n    let qq = setTimeout(() => {\n      this.buttons(false, animations.length * this.state.delay);\n      reset = false;\n    }, animations.length * this.state.delay);\n    timeouts.push(qq);\n  }\n\n  render() {\n    let i;\n\n    for (i = 1000; i >= 0; i--) {\n      let wdth = .8 * window.innerWidth;\n      let n1 = Math.floor(i * 3.6);\n      let width1 = Math.floor(wdth / n1) - 2;\n      if (width1 > 0) break;\n    }\n\n    let maxn = i;\n    let str,\n        dly = this.state.delay,\n        strdly;\n    if (dly === .5) strdly = '0.50';else if (dly === .1) strdly = '0.10';else if (dly >= 1 && dly <= 9) strdly = '00' + dly.toString();else if (dly >= 10 && dly <= 99) strdly = '0' + dly.toString();else strdly = dly.toString();\n    if (dly === 1000) strdly += 'ms delay';else strdly += ' ms delay';\n    let ctr1 = 0;\n    if (reset === false) str = this.state.ar.map(x => React.createElement(\"div\", {\n      className: \"array-bar\",\n      key: ctr1++ + 'e',\n      style: {\n        backgroundColor: 'blue',\n        height: `${x}px`,\n        width: `${width}px`\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 904\n      },\n      __self: this\n    }, \" \"));else str = this.state.ar.map(x => React.createElement(\"div\", {\n      className: \"array-bar\",\n      key: ctr1++ + 'w',\n      style: {\n        backgroundColor: 'blue',\n        height: `${x}px`,\n        width: `${width}px`,\n        transform: 'translateX(0px)',\n        transition: `transform ${this.state.delay}ms linear`\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 908\n      },\n      __self: this\n    }, \" \"));\n    return React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 911\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"mainHeading\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 912\n      },\n      __self: this\n    }, \"Sorting Visualizer\"), React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        width: '95%',\n        borderTop: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 913\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6 box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 914\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button button4\",\n      onClick: () => this.bubbleSort(),\n      id: \"bubblesort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 916\n      },\n      __self: this\n    }, \"Bubble Sort\"), React.createElement(\"button\", {\n      className: \"button button4\",\n      onClick: () => this.selectionSort(),\n      id: \"selectionsort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 917\n      },\n      __self: this\n    }, \"Selection Sort\"), React.createElement(\"button\", {\n      className: \"button button4\",\n      onClick: () => this.insertionSort(),\n      id: \"insertionsort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 918\n      },\n      __self: this\n    }, \"Insertion Sort\"), React.createElement(\"button\", {\n      className: \"button button4\",\n      onClick: () => this.mergeSort(),\n      id: \"mergesort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 919\n      },\n      __self: this\n    }, \"Merge Sort\"), React.createElement(\"button\", {\n      className: \"button button4\",\n      onClick: () => this.quickSort(),\n      id: \"quicksort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 920\n      },\n      __self: this\n    }, \"Quick Sort\"), React.createElement(\"button\", {\n      className: \"button button4\",\n      onClick: () => this.resetArray(),\n      id: \"reset\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 921\n      },\n      __self: this\n    }, \"Reset\"), React.createElement(\"button\", {\n      className: \"button button4\",\n      onClick: () => this.skipAnimations(),\n      id: \"skip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 922\n      },\n      __self: this\n    }, \"Skip\")), React.createElement(\"div\", {\n      className: \"col-md-6 box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 924\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontFamily: 'Georgia',\n        cursor: 'default'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 925\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 925\n      },\n      __self: this\n    }, \"Data size \")), React.createElement(\"input\", {\n      type: \"range\",\n      min: 2,\n      max: maxn,\n      defaultValue: 4,\n      onChange: () => this.changeArrSize(),\n      className: \"slider\",\n      id: \"arr_size\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 926\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: {\n        backgroundColor: 'rgb(212, 210, 231)',\n        color: 'black',\n        borderRadius: '4px',\n        cursor: 'default'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 927\n      },\n      __self: this\n    }, \" \", this.state.n, \"\\xA0\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 929\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 930\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontFamily: 'Georgia',\n        cursor: 'default'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 931\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 931\n      },\n      __self: this\n    }, \" Speed \")), React.createElement(\"input\", {\n      type: \"range\",\n      min: 1,\n      max: 1505,\n      defaultValue: 751,\n      onChange: () => this.changeDelay(),\n      className: \"slider\",\n      id: \"delay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 932\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 934\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        backgroundColor: 'rgb(212, 210, 231)',\n        color: 'black',\n        borderRadius: '4px',\n        cursor: 'default',\n        float: 'right'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 935\n      },\n      __self: this\n    }, \" \", strdly, \"\\xA0\")))), React.createElement(\"div\", {\n      className: \"box2 array-container\",\n      style: {\n        border: '1px solid #ccc',\n        paddingTop: '2%',\n        paddingBottom: '1%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 939\n      },\n      __self: this\n    }, str)));\n  }\n\n} // From https://stackoverflow.com/questions/4959975/generate-random-number-between-two-numbers-in-javascript\n\n\nfunction randomIntFromInterval(min, max) {\n  // min and max included\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport default BubbleSort;","map":{"version":3,"sources":["H:/React/AlgoBook/src/components/SortComponent.js"],"names":["React","Component","bubblectr","sorted","width","reset","color1","timeouts","skip","BubbleSort","constructor","props","state","ar","n","delay","resetArray","bind","componentDidMount","changeArrSize","document","getElementById","disabled","componentDidUpdate","i","arr_bar","getElementsByClassName","style","backgroundColor","resetCSS","arr","sort","a","b","setState","array","push","randomIntFromInterval","transform","buttons","x","dly","setTimeout","wdth","window","innerWidth","n1","Math","floor","value","changeDelay","val","skipAnimations","length","clearTimeout","BubbleSortAnimations","animations","j","color","swap","t","bubbleSort","ptr","ctr","len","idx1","idx2","qq","y","tm","selectionSortAnimations","min","minpos","temp","selectionSort","previdx","insertionSortAnimations","insertionSort","mergeSortAnimations","animation","mergeSort1","l","r","mid","merge","k","i1","j1","tmp","z","mergeSort","pq","pqq","it","quickSortAnimations","quickSort1","low","high","console","log","par","partition","pivot","quickSort","render","width1","maxn","str","strdly","toString","ctr1","map","height","transition","borderTop","fontFamily","cursor","borderRadius","float","border","paddingTop","paddingBottom","max","random"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport './sort.css';\r\nimport './myStyle.css';\r\n//import {mergeSortAnimations} from './MergeSort'\r\nvar bubblectr=0;\r\nvar sorted=false;\r\nvar width=50;\r\nvar reset=true;\r\nvar color1='rgb(0, 204, 0)';\r\nvar timeouts=[]\r\nvar skip=false\r\n//var ctr1=0;\r\nclass BubbleSort extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n             ar:[],\r\n             n:20,\r\n             delay:250\r\n        }\r\n        this.resetArray=this.resetArray.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.changeArrSize();\r\n        reset=true;\r\n        sorted=false;\r\n        document.getElementById('skip').disabled=true;\r\n    }\r\n    componentDidUpdate(){\r\n        if(skip===true)\r\n        {\r\n            for(let i=0;i<this.state.n;i++)\r\n            {\r\n                const arr_bar=document.getElementsByClassName('array-bar');\r\n                arr_bar[i].style.backgroundColor='blue';\r\n            }\r\n        }\r\n//        else console.log(\"ASDDF\");\r\n    }\r\n    resetCSS(){\r\n        let arr=this.state.ar;\r\n            arr.sort(function(a, b){return a - b});\r\n            this.setState({\r\n                ar:arr\r\n            })\r\n        for(let i=0;i<this.state.n;i++)\r\n        {\r\n            const arr_bar=document.getElementsByClassName('array-bar');\r\n            arr_bar[i].style.backgroundColor='blue';\r\n        }\r\n    }\r\n\r\n    resetArray(){\r\n        reset=true;\r\n        sorted=false;\r\n\r\n        let array = [];\r\n        for (let i = 0; i < this.state.n; i++) {\r\n            array.push(randomIntFromInterval(5, 480));\r\n        }\r\n        array[randomIntFromInterval(0,this.state.n-1)]=480\r\n        this.setState({\r\n            ar:array\r\n        });\r\n        if(bubblectr===1)\r\n        for(let i=0;i<this.state.n;i++)\r\n        {\r\n            const arr_bar=document.getElementsByClassName('array-bar');\r\n            arr_bar[i].style.transform='translateX(0px)';\r\n            arr_bar[i].style.backgroundColor='blue';\r\n        }\r\n        bubblectr=1;\r\n    }\r\n    \r\n    buttons(x,dly){\r\n        document.getElementById('reset').disabled=x;\r\n        document.getElementById('selectionsort').disabled=x;\r\n        document.getElementById('bubblesort').disabled=x;\r\n        document.getElementById('insertionsort').disabled=x;\r\n        document.getElementById('mergesort').disabled=x;\r\n        document.getElementById('quicksort').disabled=x;\r\n        document.getElementById('arr_size').disabled=x;\r\n        document.getElementById('delay').disabled=x;\r\n        document.getElementById('skip').disabled=!x;\r\n        const arr_bar=document.getElementsByClassName('array-bar');\r\n        if(x===true)\r\n        {\r\n            for(let i=0;i<this.state.n;i++)\r\n            {\r\n                arr_bar[i].style.transform='translateX(0px)';\r\n                arr_bar[i].style.backgroundColor='blue';\r\n            }\r\n        }\r\n        else{\r\n            setTimeout(() => {\r\n                for(let i=0;i<this.state.n;i++)\r\n                {\r\n                    arr_bar[i].style.backgroundColor='blue';\r\n                }\r\n            }, 1000);\r\n        }\r\n        sorted= !x;\r\n    }\r\n\r\n    changeArrSize(){\r\n        var x=document.getElementById('arr_size');\r\n        bubblectr=0;\r\n        let wdth=.8*window.innerWidth;\r\n        let n1=Math.floor(x.value*3.6);\r\n//doubt about width formula\r\n        width=Math.floor(wdth/n1)-2;\r\n        this.setState({\r\n            n:n1\r\n        },function(){\r\n            this.resetArray();\r\n            const arr_bar=document.getElementsByClassName('array-bar');\r\n            if(typeof arr_bar==='undefined')\r\n            for(let i=0;i<this.state.n;i++)\r\n            {\r\n                arr_bar[i].style.backgroundColor='blue';\r\n            }\r\n        })\r\n    }\r\n\r\n    changeDelay(){\r\n        let x=document.getElementById('delay');\r\n        let val;\r\n        if(x.value>=1450)\r\n        val=.05;\r\n        else if(x.value>=1350)\r\n        val=.1;\r\n        else if(x.value>=1250)\r\n        val=.25;\r\n        else if(x.value>=1150)\r\n        val=.5;\r\n        else if(x.value>1000)\r\n        val=.75;\r\n        else val=1001-x.value;\r\n        this.setState({\r\n            delay:val\r\n        },function(){\r\n            if(sorted===true)\r\n            {\r\n                let arr=this.state.ar;\r\n                arr.sort(function(a, b){return a - b});\r\n                this.setState({\r\n                    ar:arr\r\n                })\r\n            }\r\n            for(let i=0;i<this.state.n;i++)\r\n            {\r\n                const arr_bar=document.getElementsByClassName('array-bar');\r\n                arr_bar[i].style.backgroundColor='blue';\r\n            }\r\n        })\r\n    }\r\n\r\n    skipAnimations(){\r\n        skip=true;\r\n        for(let i=0;i<timeouts.length;i++)\r\n        window.clearTimeout(timeouts[i]);\r\n        const arr_bar=document.getElementsByClassName('array-bar');\r\n        for(let i=0;i<this.state.n;i++)\r\n        {\r\n            arr_bar[i].style.transform='translateX(0px)';\r\n        }\r\n        let arr=this.state.ar;\r\n        arr.sort(function(a, b){return a - b});\r\n        this.setState({\r\n            ar:arr\r\n        })\r\n        for(let i=0;i<this.state.n;i++)\r\n        {\r\n            arr_bar[i].style.backgroundColor=color1;\r\n        }\r\n        this.buttons(false,800);\r\n        timeouts=[];\r\n        skip=false;\r\n    }\r\n\r\n    //Bubble Sort\r\n    BubbleSortAnimations(){\r\n        let animations=[];\r\n        let ar=this.state.ar;\r\n        for(let i=0;i<this.state.n-1;i++)\r\n        {\r\n            for(let j=0;j<this.state.n-1-i;j++)\r\n            {\r\n                if(ar[j]>ar[j+1])\r\n                {\r\n                    animations.push({\r\n                        i:j,\r\n                        j:j+1,\r\n                        color:'red',\r\n                        swap:false\r\n                    })\r\n                    let t=ar[j];\r\n                    ar[j]=ar[j+1];\r\n                    ar[j+1]=t;\r\n                    animations.push({\r\n                        i:j,\r\n                        j:j+1,\r\n                        color:'green',\r\n                        swap:true\r\n                    })\r\n                    animations.push({\r\n                        i:j,\r\n                        j:j+1,\r\n                        color:'green',\r\n                        swap:false\r\n                    })\r\n                }\r\n                else{\r\n                    animations.push({\r\n                        i:j,\r\n                        j:j+1,\r\n                        color:'green',\r\n                        swap:false\r\n                    })\r\n                }\r\n            }\r\n            animations.push({\r\n                i:this.state.n-1-i,\r\n                j:-1,\r\n                color:'orange',\r\n                swap:false\r\n            })\r\n        }\r\n        animations.push({\r\n            i:0,\r\n            j:-1,\r\n            color:'orange',\r\n            swap:false\r\n        })\r\n        return animations;\r\n    }\r\n\r\n    bubbleSort()\r\n    {\r\n        timeouts=[]\r\n        if(reset===false)\r\n        this.resetCSS();\r\n        this.buttons(true,0);\r\n        const animations=this.BubbleSortAnimations();\r\n        let ptr=[];\r\n        for(let i=0;i<this.state.ar.length;i++)\r\n        ptr[i]={\r\n            i:i,\r\n            ctr:0\r\n        };\r\n        let len=animations.length;\r\n        const arr_bar=document.getElementsByClassName('array-bar');\r\n        for(let i=0;i<len;i++)\r\n        {\r\n            let idx1=animations[i].i;\r\n            let idx2=animations[i].j;\r\n            if(idx2===-1)\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    arr_bar[ptr[idx1].i].style.backgroundColor=color1;\r\n                    if(idx1>0 && arr_bar[ptr[idx1-1].i].style.backgroundColor==='palegreen')\r\n                    arr_bar[ptr[idx1-1].i].style.backgroundColor='blue';\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq)\r\n                continue;\r\n            }\r\n            if(animations[i].swap===true)\r\n            {\r\n                let qq=setTimeout(() => {\r\n                         ptr[idx1].ctr+=1;\r\n                         let y=ptr[idx1].ctr*(width+2);\r\n                         arr_bar[ptr[idx1].i].style.transform=`translateX(${y}px)`\r\n                         ptr[idx2].ctr-=1;\r\n                         y=ptr[idx2].ctr*(width+2);\r\n                         arr_bar[ptr[idx2].i].style.transform=`translateX(${y}px)`\r\n                         let tm=ptr[idx1];\r\n                         ptr[idx1]=ptr[idx2];\r\n                         ptr[idx2]=tm;\r\n                         arr_bar[ptr[idx1].i].style.backgroundColor='palegreen';\r\n                         arr_bar[ptr[idx2].i].style.backgroundColor='palegreen';\r\n                     }, i*this.state.delay);\r\n                     timeouts.push(qq);\r\n            }\r\n            else\r\n            {\r\n                if(animations[i].color==='green')\r\n                {\r\n                    let qq=setTimeout(() => {\r\n                        if(idx1>0&&arr_bar[ptr[idx1-1].i].style.backgroundColor==='palegreen')\r\n                        arr_bar[ptr[idx1-1].i].style.backgroundColor='blue';\r\n                        arr_bar[ptr[idx1].i].style.backgroundColor='palegreen';\r\n                        arr_bar[ptr[idx2].i].style.backgroundColor='palegreen';\r\n                    }, i*this.state.delay);\r\n                    timeouts.push(qq);\r\n                }\r\n                else\r\n                {\r\n                    let qq=setTimeout(() => {\r\n                        if(idx1>0&&arr_bar[ptr[idx1-1].i].style.backgroundColor==='palegreen')\r\n                        arr_bar[ptr[idx1-1].i].style.backgroundColor='blue';\r\n                        arr_bar[ptr[idx1].i].style.backgroundColor='red';\r\n                        arr_bar[ptr[idx2].i].style.backgroundColor='red';\r\n                    }, i*this.state.delay);\r\n                    timeouts.push(qq);\r\n                }\r\n            }\r\n        }\r\n        let qq=setTimeout(() => {\r\n            this.buttons(false,(animations.length)*this.state.delay);\r\n            reset=false;\r\n        }, (animations.length)*this.state.delay);\r\n        timeouts.push(qq);\r\n    }\r\n\r\n    //Selection Sort\r\n    selectionSortAnimations(){\r\n        let animations=[]\r\n        let ar=this.state.ar\r\n        for(let i=0;i<this.state.n;i++)\r\n        {\r\n            let min=1000000001,minpos;\r\n            for(let j=i+1;j<this.state.n;j++)\r\n            {\r\n                if(min>ar[j])\r\n                {\r\n                    min=ar[j];\r\n                    minpos=j;\r\n                    animations.push({\r\n                        i:i,\r\n                        j:j,\r\n                        color:'orange'\r\n                    })\r\n                }\r\n                else{\r\n                    animations.push({\r\n                        i:i,\r\n                        j:j,\r\n                        color:'palegreen'\r\n                    })\r\n                }\r\n            }\r\n            animations.push({\r\n                i:-1,\r\n                j:0,\r\n                color:'dummy'\r\n            })\r\n            if(ar[i]>ar[minpos])\r\n            {\r\n                let temp=ar[i];\r\n                ar[i]=ar[minpos];\r\n                ar[minpos]=temp;\r\n                animations.push({\r\n                    i:i,\r\n                    j:minpos,\r\n                    color:'swap'\r\n                })\r\n            }\r\n            animations.push({\r\n                i:i,\r\n                j:-1,\r\n                color:'green'\r\n            })\r\n        }\r\n        return animations;\r\n    }\r\n\r\n    selectionSort(){\r\n        timeouts=[]\r\n        if(reset===false)\r\n        this.resetCSS();\r\n        this.buttons(true,0);\r\n        const animations=this.selectionSortAnimations();\r\n        let ptr=[];\r\n        let previdx=-1;\r\n        for(let i=0;i<this.state.ar.length;i++)\r\n        ptr[i]={\r\n            i:i,\r\n            ctr:0\r\n        };\r\n        let len=animations.length;\r\n        const arr_bar=document.getElementsByClassName('array-bar');\r\n        for(let i=0;i<len;i++)\r\n        {\r\n            let idx1=animations[i].i;\r\n            let idx2=animations[i].j;\r\n            if(idx1===-1)\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    if(arr_bar[ptr[this.state.n-1].i].style.backgroundColor==='palegreen')\r\n                    arr_bar[ptr[this.state.n-1].i].style.backgroundColor='blue';\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n            else if(idx2===-1)\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    arr_bar[ptr[idx1].i].style.backgroundColor=color1;\r\n                }, i*this.state.delay);\r\n                previdx=-1;\r\n                timeouts.push(qq);\r\n            }\r\n            else\r\n            {\r\n                if(animations[i].color==='swap')\r\n                {\r\n                    let qq=setTimeout(() => {\r\n                        ptr[idx1].ctr+=idx2-idx1;\r\n                        let y=ptr[idx1].ctr*(width+2);\r\n                        arr_bar[ptr[idx1].i].style.transform=`translateX(${y}px)`\r\n                        ptr[idx2].ctr-=idx2-idx1;\r\n                        y=ptr[idx2].ctr*(width+2);\r\n                        arr_bar[ptr[idx2].i].style.transform=`translateX(${y}px)`\r\n                        let tm=ptr[idx1];\r\n                        ptr[idx1]=ptr[idx2];\r\n                        ptr[idx2]=tm;\r\n                        arr_bar[ptr[idx1].i].style.backgroundColor='palegreen';\r\n                        arr_bar[ptr[idx2].i].style.backgroundColor='blue';\r\n                    }, i*this.state.delay);\r\n                    timeouts.push(qq);\r\n                }\r\n                else\r\n                {\r\n                    if(animations[i].color==='palegreen')\r\n                    {\r\n                        let qq=setTimeout(() => {\r\n                            arr_bar[ptr[idx1].i].style.backgroundColor='palegreen';\r\n                            arr_bar[ptr[idx2].i].style.backgroundColor='palegreen';\r\n                            if(arr_bar[ptr[idx2-1].i].style.backgroundColor==='palegreen')\r\n                            arr_bar[ptr[idx2-1].i].style.backgroundColor='blue';\r\n                        }, i*this.state.delay);\r\n                        timeouts.push(qq);\r\n                    }\r\n                    else\r\n                    {\r\n                        let qq=setTimeout(() => {\r\n                            arr_bar[ptr[idx1].i].style.backgroundColor='palegreen';\r\n                            if(previdx>=0&&arr_bar[previdx].style.backgroundColor==='orange')\r\n                            arr_bar[previdx].style.backgroundColor='blue';\r\n                            previdx=ptr[idx2].i;\r\n                            arr_bar[ptr[idx2].i].style.backgroundColor='orange';\r\n                            if((ptr[idx2-1].i !== ptr[idx1].i) && (arr_bar[ptr[idx2-1].i].style.backgroundColor==='palegreen' || arr_bar[ptr[idx2-1].i].style.backgroundColor==='orange'))\r\n                            arr_bar[ptr[idx2-1].i].style.backgroundColor='blue';\r\n                        }, i*this.state.delay);\r\n                        timeouts.push(qq);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        let qq=setTimeout(() => {\r\n            this.buttons(false,(animations.length)*this.state.delay);\r\n            reset=false;\r\n        }, (animations.length)*this.state.delay)\r\n        timeouts.push(qq);\r\n    }\r\n\r\n    //Insertion Sort\r\n    insertionSortAnimations(){\r\n        let animations=[]\r\n        let ar=this.state.ar;\r\n        for(let i=0;i<this.state.n;i++)\r\n        {\r\n            let j=i;\r\n            animations.push({\r\n                i:i,\r\n                j:-2,\r\n                color:'red'\r\n            })\r\n            while(j>0 && ar[j]<ar[j-1])\r\n            {\r\n                animations.push({\r\n                    i:j,\r\n                    j:j-1,\r\n                    color:'swap'\r\n                })\r\n                animations.push({\r\n                    i:-1,\r\n                    j:-1,\r\n                    color:'delay'\r\n                })\r\n                let temp=ar[j];\r\n                ar[j]=ar[j-1];\r\n                ar[j-1]=temp;\r\n                j--;\r\n            }\r\n            animations.push({\r\n                i:j,\r\n                j:-1,\r\n                color:'green'\r\n            })\r\n        }\r\n        return animations;\r\n    }\r\n\r\n    insertionSort(){\r\n        timeouts=[]\r\n        if(reset===false)\r\n        this.resetCSS();\r\n        this.buttons(true,0);\r\n        const animations=this.insertionSortAnimations();\r\n        let ptr=[];\r\n        for(let i=0;i<this.state.ar.length;i++)\r\n        ptr[i]={\r\n            i:i,\r\n            ctr:0\r\n        };\r\n        let len=animations.length;\r\n        const arr_bar=document.getElementsByClassName('array-bar');\r\n        for(let i=0;i<len;i++)\r\n        {\r\n            let idx1=animations[i].i;\r\n            let idx2=animations[i].j;\r\n            if(idx1===-1)\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    \r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n            else if(idx2===-1)\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    arr_bar[ptr[idx1].i].style.backgroundColor=color1;\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n            else if(animations[i].color==='red')\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    arr_bar[ptr[idx1].i].style.backgroundColor='red';\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n            else\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    ptr[idx1].ctr+=idx2-idx1;\r\n                    let y=ptr[idx1].ctr*(width+2);\r\n                    arr_bar[ptr[idx1].i].style.transform=`translateX(${y}px)`\r\n                    ptr[idx2].ctr-=idx2-idx1;\r\n                    y=ptr[idx2].ctr*(width+2);\r\n                    arr_bar[ptr[idx2].i].style.transform=`translateX(${y}px)`\r\n                    let tm=ptr[idx1];\r\n                    ptr[idx1]=ptr[idx2];\r\n                    ptr[idx2]=tm;\r\n                    arr_bar[ptr[idx2].i].style.backgroundColor='red';\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n        }\r\n        let qq=setTimeout(() => {\r\n            this.buttons(false,(animations.length)*this.state.delay);\r\n            reset=false;\r\n        }, (animations.length)*this.state.delay);\r\n        timeouts.push(qq);\r\n    }\r\n\r\n    //Merge Sort\r\n    mergeSortAnimations(ar){\r\n        const animation=[]\r\n        if(ar.length===1)\r\n        return animation\r\n        this.mergeSort1(ar,0,ar.length-1,animation)\r\n        return animation\r\n    }\r\n    mergeSort1(ar,l,r,animation){\r\n        if(l<r)\r\n        {\r\n            let mid=Math.floor((l+r)/2)\r\n            this.mergeSort1(ar,l,mid,animation)\r\n            this.mergeSort1(ar,mid+1,r,animation)\r\n            this.merge(ar,l,r,mid,animation)\r\n        }\r\n    }\r\n    \r\n    merge(ar,l,r,mid,animation){\r\n        let i=l,j=mid+1,k=l\r\n        let i1=l,j1=mid+1\r\n        while(i1<=mid && j1<=r)\r\n        {\r\n            animation.push({\r\n                i:i,\r\n                j:j,\r\n                color:'palegreen'\r\n            })\r\n            if(ar[i]<=ar[j])\r\n            {\r\n                animation.push({\r\n                    i:i,\r\n                    j:j,\r\n                    color:'blue'\r\n                })\r\n                i++\r\n                k++\r\n                i1++\r\n            }\r\n            else{\r\n                animation.push({\r\n                i:k,\r\n                j:j,\r\n                color:'swap'\r\n                })\r\n                animation.push({\r\n                    i:k,\r\n                    j:j,\r\n                    color:'blue'\r\n                })\r\n                let tmp=ar[j]\r\n                for(let z=j;z>i;z--)\r\n                ar[z]=ar[z-1]\r\n                ar[i]=tmp\r\n                i++\r\n                j++\r\n                j1++\r\n                k++;\r\n            }\r\n        }\r\n        while(i<=mid)\r\n        {\r\n            animation.push({\r\n                i:i,\r\n                j:-1,\r\n                color:'palegreen'\r\n            })\r\n            animation.push({\r\n                i:i,\r\n                j:-1,\r\n                color:'blue'\r\n            })\r\n            i++;\r\n        }\r\n        while(j<=r)\r\n        {\r\n            animation.push({\r\n                i:j,\r\n                j:-1,\r\n                color:'palegreen'\r\n            })\r\n            animation.push({\r\n                i:j,\r\n                j:-1,\r\n                color:'blue'\r\n            })\r\n            j++;\r\n        }\r\n    }\r\n    mergeSort(){\r\n        timeouts=[]\r\n        if(reset===false)\r\n        this.resetCSS();\r\n        this.buttons(true,0);\r\n        let animations=this.mergeSortAnimations(this.state.ar);\r\n        let ptr=[];\r\n        let previdx=-1;\r\n        for(let i=0;i<this.state.ar.length;i++)\r\n        ptr[i]={\r\n            i:i,\r\n            ctr:0\r\n        };\r\n        let len=animations.length;\r\n        let arr_bar=document.getElementsByClassName('array-bar');\r\n        for(let i=0;i<len;i++)\r\n        {\r\n            let idx1=animations[i].i;\r\n            let idx2=animations[i].j;\r\n            if(idx2===-1)\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    arr_bar[ptr[idx1].i].style.backgroundColor=animations[i].color\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n            else if(animations[i].color==='swap')\r\n            {\r\n                let qq=setTimeout(() => {\r\n                for(let pq=idx1;pq<idx2;pq++)\r\n                {\r\n                    ptr[pq].ctr+=1\r\n                    let y=ptr[pq].ctr*(width+2);\r\n                    arr_bar[ptr[pq].i].style.transform=`translateX(${y}px)`\r\n                }\r\n                ptr[idx2].ctr-=idx2-idx1;\r\n                let y=ptr[idx2].ctr*(width+2);\r\n                arr_bar[ptr[idx2].i].style.transform=`translateX(${y}px)`\r\n                let pqq=ptr[idx2]\r\n                for(let pq=idx2-1;pq>=idx1;pq--)\r\n                ptr[pq+1]=ptr[pq];\r\n                ptr[idx1]=pqq\r\n                for(let it=0;it<this.state.n;it++)\r\n                if(arr_bar[it].style.backgroundColor==='palegreen')\r\n                arr_bar[it].style.backgroundColor='blue'\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n            else\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    arr_bar[ptr[idx1].i].style.backgroundColor=animations[i].color\r\n                    arr_bar[ptr[idx2].i].style.backgroundColor=animations[i].color\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n        }\r\n        let qq=setTimeout(() => {\r\n            for(let it=0;it<this.state.n;it++)\r\n            arr_bar[it].style.backgroundColor=color1\r\n        }, animations.length*this.state.delay);\r\n        timeouts.push(qq);\r\n        qq=setTimeout(() => {\r\n            this.buttons(false,(animations.length)*this.state.delay);\r\n            reset=false;\r\n        }, (animations.length+1)*this.state.delay);\r\n        timeouts.push(qq);\r\n    }\r\n\r\n    //quick sort\r\n    quickSortAnimations(ar){\r\n        const animation=[]\r\n        this.quickSort1(ar,0,ar.length-1,animation)\r\n        return animation\r\n    }\r\n    quickSort1(ar,low,high,animation){\r\n        console.log(low+\" \"+high);    \r\n        if(low===high)\r\n            animation.push({\r\n                i:low,\r\n                j:-1,\r\n                color:color1\r\n            })\r\n            else if(low<high){\r\n                let par=this.partition(ar,low,high,animation)\r\n                animation.push({\r\n                    i:-1,\r\n                    j:-1,\r\n                    color:'clean'\r\n                })\r\n                this.quickSort1(ar,low,par-1,animation)\r\n                this.quickSort1(ar,par+1,high,animation)\r\n            }\r\n        }\r\n    partition(ar,low,high,animation){\r\n        let pivot=ar[high]\r\n        let i=low-1;\r\n        animation.push({\r\n            i:high,\r\n            j:-1,\r\n            color:'yellow'\r\n        })\r\n        for(let j=low;j<high;j++)\r\n        {\r\n            animation.push({\r\n                i:j,\r\n                j:-1,\r\n                color:'palegreen'\r\n            })\r\n            if(ar[j]<=pivot)\r\n            {\r\n                i++;\r\n                animation.push({\r\n                    i:i,\r\n                    j:j,\r\n                    color:'swap'\r\n                })\r\n                let tmp=ar[i]\r\n                ar[i]=ar[j]\r\n                ar[j]=tmp;\r\n                animation.push({\r\n                    i:i,\r\n                    j:j,\r\n                    color:'op'//op=orangepurple\r\n                })\r\n            }\r\n            else{\r\n                animation.push({\r\n                    i:j,\r\n                    j:-1,\r\n                    color:'orange'\r\n                })\r\n            }\r\n        }\r\n        animation.push({\r\n            i:i+1,\r\n            j:high,\r\n            color:'swap'\r\n        })\r\n        let tmp=ar[i+1]\r\n        ar[i+1]=ar[high]\r\n        ar[high]=tmp\r\n        animation.push({\r\n            i:i+1,\r\n            j:-1,\r\n            color:color1\r\n        })\r\n        return i+1;\r\n    }\r\n\r\n    quickSort(){\r\n        timeouts=[]\r\n        if(reset===false)\r\n        this.resetCSS();\r\n        this.buttons(true,0);\r\n        let animations=this.quickSortAnimations(this.state.ar);\r\n//        return;\r\n        let ptr=[];\r\n        for(let i=0;i<this.state.ar.length;i++)\r\n        ptr[i]={\r\n            i:i,\r\n            ctr:0\r\n        };\r\n        let len=animations.length;\r\n        const arr_bar=document.getElementsByClassName('array-bar');\r\n        for(let i=0;i<len;i++)\r\n        {\r\n            let idx1=animations[i].i;\r\n            let idx2=animations[i].j;\r\n            if(animations[i].color==='clean')\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    for(let it=0;it<this.state.n;it++)\r\n                    {\r\n                        if(arr_bar[ptr[it].i].style.backgroundColor!==color1){\r\n                        arr_bar[ptr[it].i].style.backgroundColor='blue'\r\n                        }\r\n                    }\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n            else if(idx2===-1)\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    arr_bar[ptr[idx1].i].style.backgroundColor=animations[i].color;\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n            else if(animations[i].color==='swap')\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    ptr[idx1].ctr+=idx2-idx1;\r\n                    let y=ptr[idx1].ctr*(width+2);\r\n                    arr_bar[ptr[idx1].i].style.transform=`translateX(${y}px)`\r\n                    ptr[idx2].ctr-=idx2-idx1;\r\n                    y=ptr[idx2].ctr*(width+2);\r\n                    arr_bar[ptr[idx2].i].style.transform=`translateX(${y}px)`\r\n                    let tm=ptr[idx1];\r\n                    ptr[idx1]=ptr[idx2];\r\n                    ptr[idx2]=tm;\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq);\r\n            }\r\n            else if(animations[i].color===color1)\r\n            {\r\n                let qq=setTimeout(() => {\r\n                    arr_bar[ptr[idx1].i].style.backgroundColor=color1\r\n                    for(let it=0;it<this.state.n;it++)\r\n                    {\r\n                        if(arr_bar[ptr[it].i].style.backgroundColor!==color1)\r\n                        arr_bar[ptr[it].i].style.backgroundColor='blue'\r\n                    }\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq)\r\n            }\r\n            else{\r\n                let qq=setTimeout(() => {\r\n                    arr_bar[ptr[idx1].i].style.backgroundColor='orange';\r\n                    arr_bar[ptr[idx1].i].style.backgroundColor='purple';\r\n                }, i*this.state.delay);\r\n                timeouts.push(qq)\r\n            }\r\n        }\r\n        let qq=setTimeout(() => {\r\n            this.buttons(false,(animations.length)*this.state.delay);\r\n            reset=false;\r\n        }, (animations.length)*this.state.delay);\r\n        timeouts.push(qq);\r\n    }\r\n    render() {\r\n        let i;\r\n        for(i=1000;i>=0;i--)\r\n        {\r\n            let wdth=.8*window.innerWidth;\r\n            let n1=Math.floor(i*3.6);\r\n            let width1=Math.floor(wdth/n1)-2;\r\n            if(width1>0)\r\n            break;\r\n        }\r\n        let maxn=i;\r\n        let str,dly=this.state.delay,strdly;\r\n        if(dly===.5)\r\n        strdly='0.50'\r\n        else if(dly===.1)\r\n        strdly='0.10'\r\n        else if(dly>=1&&dly<=9)\r\n        strdly='00'+dly.toString()\r\n        else if(dly>=10&&dly<=99)\r\n        strdly='0'+dly.toString()\r\n        else strdly=dly.toString()\r\n        if(dly===1000)\r\n        strdly+='ms delay'\r\n        else strdly+=' ms delay'\r\n        let ctr1=0;\r\n         if(reset===false)\r\n        str=this.state.ar.map((x) => (\r\n            <div className=\"array-bar\" key={ctr1++ + 'e'} style={{backgroundColor: 'blue',height: `${x}px`, width:`${width}px`}}> </div>\r\n            ))\r\n        else\r\n        str=this.state.ar.map((x) => (\r\n            <div className=\"array-bar\" key={ctr1++ + 'w'} style={{backgroundColor: 'blue',height: `${x}px`, width:`${width}px`, transform:'translateX(0px)', transition:`transform ${this.state.delay}ms linear`}}> </div>\r\n            ))\r\n        return (\r\n            <center>\r\n            <h1 className=\"mainHeading\" style={{color:'black'}}>Sorting Visualizer</h1>\r\n            <div className=\"row\" style={{width:'95%',borderTop:'5px'}}>\r\n            <div className=\"col-md-6 box\">\r\n            \r\n            <button className=\"button button4\" onClick={()=>this.bubbleSort()} id='bubblesort'>Bubble Sort</button>\r\n            <button className=\"button button4\" onClick={()=>this.selectionSort()} id='selectionsort'>Selection Sort</button>\r\n            <button className=\"button button4\" onClick={()=>this.insertionSort()} id='insertionsort'>Insertion Sort</button>\r\n            <button className=\"button button4\" onClick={()=>this.mergeSort()} id='mergesort'>Merge Sort</button>\r\n            <button className=\"button button4\" onClick={()=>this.quickSort()} id='quicksort'>Quick Sort</button>\r\n            <button className=\"button button4\" onClick={()=>this.resetArray()} id='reset'>Reset</button>\r\n            <button className=\"button button4\" onClick={()=>this.skipAnimations()} id='skip'>Skip</button>\r\n            </div>\r\n            <div className=\"col-md-6 box\">\r\n            <span style={{fontFamily:'Georgia',cursor:'default'}}><b>Data size </b></span>\r\n            <input type=\"range\"  min={2} max={maxn} defaultValue={4} onChange={()=>this.changeArrSize()} className=\"slider\" id=\"arr_size\"/>\r\n            <span style={{backgroundColor:'rgb(212, 210, 231)',color:'black',borderRadius:'4px',cursor:'default'}}> {this.state.n}&nbsp;\r\n            </span>\r\n            <div className=\"row\">\r\n            <div className=\"col-6\">\r\n            <span style={{fontFamily:'Georgia',cursor:'default'}}><b> Speed </b></span>\r\n            <input type=\"range\"  min={1} max={1505} defaultValue={751} onChange={()=>this.changeDelay()} className=\"slider\" id=\"delay\"/>\r\n            </div>\r\n            <div className=\"col-6\">\r\n            <span style={{backgroundColor:'rgb(212, 210, 231)',color:'black',borderRadius:'4px',cursor:'default',float:'right'}}> {strdly}&nbsp;</span>\r\n            </div>\r\n            </div>\r\n            </div>\r\n            <div className=\"box2 array-container\" style={{border:'1px solid #ccc',paddingTop:'2%',paddingBottom:'1%'}}>\r\n            { str }\r\n            </div>\r\n            </div>\r\n            </center>\r\n        )\r\n    }\r\n}\r\n// From https://stackoverflow.com/questions/4959975/generate-random-number-between-two-numbers-in-javascript\r\nfunction randomIntFromInterval(min, max) {\r\n    // min and max included\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n  }\r\n\r\nexport default BubbleSort\r\n"]},"metadata":{},"sourceType":"module"}